window.smcv=window.smcv||{},window.width=window.innerWidth,smcv.debounce=function(n,o,r){var s;return function(){var e=this,t=arguments,i=r&&!s;clearTimeout(s),s=setTimeout(function(){s=null,r||n.apply(e,t)},o),i&&n.apply(e,t)}},smcv.init=function(){window.lazySizesConfig=window.lazySizesConfig||{},window.lazySizesConfig.init=!1,window.addEventListener("scroll",this.debounce(this.detectScroll,100)),window.addEventListener("resize",this.debounce(function(){window.width!==window.innerWidth&&(this.initFooterAccordions(),this.showNavbarHotelName(),this.showLogo(),window.width=window.innerWidth)}.bind(this),100)),this.initHamburgerMenu(),this.initLanguageSwitcherButton(),this.initExpandLinksAndButtons(),this.initMenuBar(),this.showNavbarHotelName(),this.showLogo(),this.createCarousels(),this.initDatepickers(),this.initFooterAccordions(),this.initSmoothScroll(),this.initPhotoSwipes(),this.initAttractionsMap(),this.fireWhenReady("lazySizes",function(){lazySizes.init()}),setTimeout(function(){this.hasScrollbar()}.bind(this),0)},smcv.initSmoothScroll=function(){this.fireWhenReady("SmoothScroll",function(){new SmoothScroll("a[data-scroll]")})},smcv.detectScroll=function(){(window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)<20?document.body.classList.remove("scrolling"):document.body.classList.add("scrolling")},smcv.hasScrollbar=function(){var e=document.body.getBoundingClientRect();e.height+e.top<=window.innerHeight&&document.body.classList.add("no-scrollbar"),document.body.classList.add("loaded")},smcv.initHamburgerMenu=function(){this.fireWhenReady("Menubutton",function(){new Menubutton(document.getElementById("menubutton")).init()})},smcv.initLanguageSwitcherButton=function(){this.fireWhenReady("Menubutton",function(){var e=document.querySelectorAll(".btn-language-switcher");if(e.length)for(var t=0,i=e.length;t<i;t++)new Menubutton(e[t]).init()})},smcv.initExpandLinksAndButtons=function(){this.fireWhenReady("ButtonExpand",function(){for(var e=document.querySelectorAll("button[aria-expanded][aria-controls], a[aria-expanded][aria-controls]"),t=0;t<e.length;t++)new ButtonExpand(e[t]).init()})},smcv.initMenuBar=function(){this.fireWhenReady("Menubar",function(){new Menubar(document.getElementById("menubar")).init()})},smcv.ajaxGet=function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onload=function(e){200<=i.status&&i.status<400&&e(JSON.parse(i.responseText))}.bind(this,t),i.onerror=function(){},i.send()},smcv.ajaxPost=function(e,t,i,n){var o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-type",t),"function"==typeof n&&(o.onreadystatechange=function(){o.readyState==XMLHttpRequest.DONE&&200==o.status&&n()}),o.send(i)},smcv.fireWhenReady=function(t,e){var i,n=0,o=setInterval(function(){try{20==++n&&(console.warn(t+" failed indefinitely. "),clearInterval(o)),i=t.split(".").reduce(function(e,t){return e[t]},window)}catch(e){console.info("retrying..."+n+" "+t)}void 0!==i&&(e(),clearInterval(o))},500)},smcv.carouselLazyLoaded=function(t,i){document.addEventListener("lazyloaded",function(e){t.el&&t.el.contains(e.target)&&(t.update(),"function"==typeof i&&i())}.bind(t))},smcv.updateSlidesDimensions=function(e){this.updatePhotoSwipeSizes(e.el)},smcv.createCarousels=function(){this.fireWhenReady("Swiper",function(){try{if(this.galleryCarousel&&(this.galleryCarousel.updateSlides=function(e){var t=e.slides,i=[],n=[],o=0,r=0,s=parseFloat(e.el.querySelector(".swiper-slide-square").style.width),a=2*s+e.params.spaceBetween;e.slidesGrid=e.slidesGrid.slice(0,1);for(var l=0,d=t.length;l<d;l++)t[l].classList.contains("swiper-slide-wide")?(e.slidesSizesGrid[l]=a,t[l].style.width=a+"px",t[l].swiperSlideSize=a):(e.slidesSizesGrid[l]=s,t[l].swiperSlideSize=s),o<=r?(i.push(t[l]),t[l].setAttribute("data-swiper-row",0),t[l].setAttribute("data-swiper-column",i.length-1),o+=e.slidesSizesGrid[l]+e.params.spaceBetween,e.slidesGrid.push(o)):(n.push(t[l]),t[l].setAttribute("data-swiper-row",1),t[l].setAttribute("data-swiper-column",n.length-1),r+=e.slidesSizesGrid[l]+e.params.spaceBetween,e.slidesGrid.push(r));for(l=0,d=i.length;l<d;l++)i[l].style.order=l,i[l].style.WebkitOrder=l,i[l].style.webkitBoxOrdinalGroup=l;l=0,d=n.length;for(var c=i.length;l<d;l++)n[l].style.order=l+c,n[l].style.WebkitOrder=l+c,n[l].style.webkitBoxOrdinalGroup=l;e.virtualSize=Math.ceil(Math.max(o,r)),e.wrapperEl.style.width=e.virtualSize+"px"},this.galleryCarousel.updateGrid=function(e){var t=parseFloat(e.el.querySelector(".swiper-slide-square").style.width)+e.params.spaceBetween;e.slidesGrid=e.slidesGrid.sort(function(e,t){return e-t}).filter(function(e,t,i){return!t||e!=i[t-1]}),e.snapGrid=e.snapGrid.slice(0,1);for(var i=1,n=e.slidesGrid.length;i<n;i++){if(!(e.slidesGrid[i]+e.width<=e.virtualSize)){var o=e.snapGrid[e.snapGrid.length-1];o+t+e.width<=e.virtualSize&&e.snapGrid.push(o+t);break}e.snapGrid.push(e.slidesGrid[i])}e.isEnd=1===e.snapGrid.length,e.navigation.update()},this.galleryCarousel.carousel=new Swiper(this.galleryCarousel.container,{watchSlidesVisibility:!0,navigation:{nextEl:".gallery-promo .swiper-button-next",prevEl:".gallery-promo .swiper-button-prev"},freeMode:!0,slidesPerView:6,slidesPerColumn:2,spaceBetween:10,roundLengths:!0,on:{init:function(){this.wrapperEl.carousel=this,smcv.carouselLazyLoaded(this,function(){smcv.galleryCarousel.updateSlides(this),smcv.galleryCarousel.updateGrid(this),this.updateSlides=function(){}}.bind(this))},resize:function(){window.width!==window.innerWidth&&setTimeout(function(){this.update(),smcv.galleryCarousel.updateSlides(this),smcv.galleryCarousel.updateGrid(this)}.bind(this),0)}},breakpoints:{320:{slidesPerView:2},480:{slidesPerView:3},568:{slidesPerView:4},1024:{slidesPerView:5}}})),this.carousels)for(var e=0,t=this.carousels.length;e<t;e++){var i=(n=this.carousels[e]).options;i.on?(i.on.init||(i.on.init=function(){smcv.carouselLazyLoaded(this)}),i.on.resize||(i.on.resize=function(){setTimeout(function(){try{this.update()}catch(e){}}.bind(this),0)})):i.on={init:function(){smcv.carouselLazyLoaded(this)},resize:function(){setTimeout(function(){try{this.update()}catch(e){}}.bind(this),0)}},n.label?this.carousels[n.label]=new Swiper(n.container,i):n.carousel=new Swiper(n.container,i)}var n;this.videosCarousel&&(this.videosCarousel.initYTPlayer=function(e){var t=e.querySelector(".video-iframe");return new YT.Player(t,{playerVars:{autoplay:0,modestbranding:1,controls:0,rel:0},videoId:e.getAttribute("data-id")})},this.videosCarousel.initVimeoPlayer=function(e){var t=e.querySelector(".video-iframe"),i=new Vimeo.Player(t,{id:e.getAttribute("data-id"),width:e.clientWidth,height:e.clientHeight});return i.ready().catch(function(e,t){console.error(t);for(var i=0,n=this.carousel.slides.length;i<n;i++)this.carousel.slides[i]===e.parentNode&&this.carousel.removeSlide(i)}.bind(this,e)),i},this.videosCarousel.carousel=new Swiper(this.videosCarousel.container,{slidesPerView:3,spaceBetween:15,navigation:{nextEl:".videos-promo .swiper-button-next",prevEl:".videos-promo .swiper-button-prev"},breakpoints:{767:{slidesPerView:1,spaceBetween:10}},on:{slideChange:function(){var e=this.slides[this.previousIndex].player;e.hasOwnProperty("stopVideo")?e.stopVideo():e.pause()},init:function(){for(var e=0;e<this.slides.length;e++){var t=this.slides[e].querySelector(".video-container");t.classList.contains("video-vimeo")?smcv.fireWhenReady("Vimeo.Player",function(e){e.player=smcv.videosCarousel.initVimeoPlayer(e.querySelector(".video-container"))}.bind(this,this.slides[e])):t.classList.contains("video-youtube")&&smcv.fireWhenReady("YT.Player",function(e){e.player=smcv.videosCarousel.initYTPlayer(e.querySelector(".video-container"))}.bind(this,this.slides[e]))}}}})),this.thumbsGalleryCarousel&&((n=this.thumbsGalleryCarousel).galleryTop=new Swiper(n.topContainer,{effect:"fade",spaceBetween:0,keyboard:{enabled:!0},on:{init:function(){this.wrapperEl.carousel=this,smcv.updateSlidesDimensions(this),smcv.initPhotoSwipeFromDOM(".gallery-top .swiper-wrapper"),smcv.carouselLazyLoaded(this)}}}),n.galleryThumbs=new Swiper(n.thumbsContainer,{spaceBetween:10,slidesPerView:"auto",touchRatio:.2,slideToClickedSlide:!0,freeMode:!0,navigation:{nextEl:".thumbsGallery .swiper-button-next",prevEl:".thumbsGallery .swiper-button-prev"},on:{resize:function(){setTimeout(function(){this.update()}.bind(this),100)},init:function(){smcv.updateSlidesDimensions(this),this.wrapperEl.carousel=this,smcv.initPhotoSwipeFromDOM(".gallery-thumbs .swiper-wrapper"),smcv.carouselLazyLoaded(this)}}}));var o=document.querySelectorAll(".multi-carousel");if(o.length)for(this.multiCarousels=[],e=0,t=o.length;e<t;e++)this.multiCarousels[e]=new Swiper(o[e],{spaceBetween:0,keyboard:{enabled:!0},navigation:{nextEl:o[e].querySelector(".swiper-button-next"),prevEl:o[e].querySelector(".swiper-button-prev")},breakpoints:{1023:{spaceBetween:10}},on:{init:function(){smcv.updateSlidesDimensions(this),this.wrapperEl.carousel=this,smcv.initPhotoSwipeFromDOM(this.wrapperEl),smcv.carouselLazyLoaded(this)},resize:function(){setTimeout(function(){this.update()}.bind(this),0)}}})}catch(e){console.error(e)}}.bind(this))},smcv.isElementVisible=function(e){return 0<e.offsetHeight&&0<e.offsetWidth&&!e.classList.contains("swiper-slide-duplicate")},smcv.initDatepickers=function(){this.fireWhenReady("aria.datepicker",function(){var e=document.querySelectorAll(".datepicker-field"),t=0,i=e.length;if(768<=window.innerWidth){for(t=0;t<i;t++){var n=e[t];this.fireWhenReady("vanillaTextMask",function(){vanillaTextMask.maskInput({inputElement:n,mask:[/[0-3]/,/\d*/," ",/[a-zA-Z]/,/[a-zA-Z]/,/[a-zA-Z]/," ",/\d/,/\d/,/\d/,/\d/],guide:!1})}),new aria.datepicker(n,{selector:".datepicker-field",triggerLabel:n.getAttribute("data-trigger-label"),nextMonthLabel:n.getAttribute("data-next-label"),prevMonthLabel:n.getAttribute("data-prev-label"),monthNames:monthNames,dayNames:dayNames,shortDayNames:shortDayNames,dateFormat:"D MMM YYYY"})}this.setupArriveDeparture()}else{for(t=0;t<i;t++)(n=e[t]).setAttribute("type","date"),n.setAttribute("min",(new moment).format("YYYY-MM-DD"));this.setupNativeArriveDeparture()}}.bind(this))},smcv.setupArriveDeparture=function(){this.fireWhenReady("moment",function(){var e=document.querySelectorAll(".booking-button-form-full");if(e.length)for(var t=0,i=e.length;t<i;t++){var n=e[t],o=n.querySelector(".arrive .datepicker-field").datepicker,r=n.querySelector(".depart .datepicker-field").datepicker;r.domNode.addEventListener("change",function(){var e,t,i;e=this.datepicker.options.dateFormat,t=moment(this.value,e),i=this.parentElement.querySelector("input[name=check_out_date]"),t.isValid()&&(i.value=t.format("YYYY-MM-DD"))}),o.domNode.addEventListener("change",function(){var e,t,i;i=this.datepicker.options.dateFormat,e=moment(this.value,i),t=this.parentElement.querySelector("input[name=check_in_date]"),e.isValid()||(e=moment(),this.value=e.format("D MMM YYYY")),t.value=e.format("YYYY-MM-DD");var n=e.clone().add(1,"d"),o=this.getAttribute("data-uid");(r=document.querySelector('.depart [data-uid="'+o+'"]').datepicker).setDate(n._d,n.format(i))})}}.bind(this))},smcv.setupNativeArriveDeparture=function(){this.fireWhenReady("moment",function(){var e=document.querySelectorAll(".booking-button-form-full");if(e.length)for(var t=0,i=e.length;t<i;t++){var n=e[t],o=n.querySelector(".arrive .datepicker-field"),r=n.querySelector(".depart .datepicker-field"),s=n.querySelector("input[name=check_out_date]"),a=n.querySelector("input[name=check_in_date]");r.addEventListener("change",function(){s.value=this.value}),o.addEventListener("change",function(){a.value=this.value;var e=moment(this.value,"YYYY-MM-DD").add(1,"d");s.value=r.value=e.format("YYYY-MM-DD"),r.setAttribute("min",e.format("YYYY-MM-DD"))})}}.bind(this))},smcv.initPhotoSwipeFromDOM=function(o){this.fireWhenReady("PhotoSwipe",function(){try{function e(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=function e(t,i){return t&&(i(t)?t:e(t.parentNode,i))}(e.target||e.srcElement,function(e){return e.tagName&&"LI"===e.tagName.toUpperCase()});if(t){for(var i,n=t.parentNode,o=_.filter(t.parentNode.childNodes,smcv.isElementVisible),r=o.length,s=0,a=0;a<r;a++)if(1===o[a].nodeType){if(o[a]===t){i=s;break}s++}return 0<=i&&(n.carousel?n.carousel.clickedSlide=n.clickedSlide=n.carousel.slides[i]:n.clickedSlide=t,l(i,n,!0)),!1}}var l=function(e,t,i,n){var o,r,s,a=document.querySelectorAll(".pswp")[0];s=function(e){for(var t,i,n,o,r=e.childNodes,s=r.length,a=[],l=e.getAttribute("data-exclude-hidden"),d=0;d<s;d++)if(1===(t=r[d]).nodeType){if("true"===l){if(!t.offsetHeight&&!t.offsetWidth)continue;if(t.classList.contains("swiper-slide-duplicate"))continue}n=(i=t.children[0]).getAttribute("data-size").split("x"),o={src:i.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10)},1<t.children.length&&(o.title=t.children[1].innerHTML),0<i.children.length&&(o.msrc=i.children[0].getAttribute("src")),o.el=t,a.push(o)}return a}(t),r={closeEl:!0,captionEl:!1,fullscreenEl:!1,zoomEl:!0,shareEl:!1,counterEl:!0,arrowEl:!0,preloaderEl:!0,getThumbBoundsFn:function(e){var t=s[e].el.getElementsByTagName("img")[0],i=window.pageYOffset||document.documentElement.scrollTop,n=t.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}},index:parseInt(e,10),history:!1},isNaN(r.index)||(i&&(r.showAnimationDuration=0,r.hideAnimationDuration=0),(o=new PhotoSwipe(a,PhotoSwipeUI_Default,s,r)).init(),o.listen("unbindEvents",function(){o.getCurrentIndex()}),o.listen("close",function(){this.clickedSlide&&this.clickedSlide.querySelector("a").focus()}.bind(t)))};if("string"==typeof o)for(var t=document.querySelectorAll(o),i=0,n=t.length;i<n;i++)t[i].setAttribute("data-pswp-uid",i+1),t[i].onclick=e;else o.setAttribute("data-pswp-uid",1),o.onclick=e}catch(e){console.error(e)}})},smcv.initFooterAccordions=function(){this.fireWhenReady("Accordion",function(){for(var e,t=document.querySelectorAll("footer .accordion-button"),i=window.innerWidth<768,n=0,o=t.length;n<o;n++)e=(e=t[n].accordion)||new Accordion(t[n]),i?e.init():e.unload()})},smcv.initPhotoSwipes=function(){for(var e=document.querySelectorAll(".photoSwipe"),t=0,i=e.length;t<i;t++){var n=e[t];this.updatePhotoSwipeSizes(n),this.initPhotoSwipeFromDOM(n)}},smcv.updatePhotoSwipeSizes=function(e){for(var t=e.querySelectorAll("[data-meta]"),i=0,n=t.length;i<n;i++){var o=t[i].getAttribute("data-meta");smcv.ajaxGet(o,function(e){var t=this.getAttribute("href");t+="&w="+window.innerWidth,this.setAttribute("href",t),this.setAttribute("data-size",e.PixelWidth+"x"+e.PixelHeight)}.bind(t[i]))}},smcv.initAttractionsMap=function(){document.querySelector(".local-attractions-list-page")&&smcv.fireWhenReady("smcv.localAttractionsInit",function(){smcv.localAttractionsInit()})},smcv.showNavbarHotelName=function(){var e,t;(e=document.querySelector(".navbar-main .hotel-name"))&&(t=e.querySelector(".hotel-name-link")),t&&(t.style.opacity=t.offsetHeight<e.offsetHeight?1:0)},smcv.showLogo=function(){var e,t,i,n;if(document.body.classList.contains("horizontal_logo"))try{(e=document.querySelector(".navbar .logo")).style.display="flex",t=e.querySelector(".logo-img.visible-xs"),n=(i=document.getElementById("content")).querySelector(".logo"),document.querySelector("body.page-home")?t.offsetWidth>e.offsetWidth?(n||((n=e.cloneNode(!0)).classList.add("full-width"),i.prepend(n)),e.style.display="none",e.style.opacity=0):(e.style.opacity=1,n&&n.remove()):t.offsetWidth<=e.offsetWidth&&(e.style.opacity=1,n&&n.remove())}catch(e){console.error("logo not found")}},smcv.init();
